sum(increase(std_grpc_server_handling_seconds_bucket{{le="0.5",job="be/yid",instance="{{0}}",grpc_method=~"ListPermResource|CheckUserOperatePage|ListAuthZResources"}}[2m])) by (job) / sum(increase(std_grpc_server_handling_seconds_bucket{{le="+Inf",job="be/yid",instance="{{0}}",grpc_method=~"ListPermResource|CheckUserOperatePage|ListAuthZResources"}}[2m])) by (job) *100
sum(increase(std_grpc_server_handling_seconds_bucket{{le="2.5",job="be/yid",grpc_method=~"ListFieldValues",instance="{{0}}"}}[2m]))  by(job) / sum(increase(std_grpc_server_handling_seconds_bucket{{le="+Inf",job="be/yid",grpc_method=~"ListFieldValues", instance="{{0}}"}}[2m]))  by(job) *100
(1-sum(increase(std_grpc_server_handled_total{{job="be/yid",biz_code="6000",instance="{{0}}",grpc_code=~"Unknown|OK",grpc_method=~"GetEmployee|ListEmployee|GetDepartment|ListDepartment|GetTeam|ListTeam|ListSupervisor|IsDeptLeader|GetDepartTree|GetEmployeeDepartTree|ListUserNameByEmpID|ListAuthZTeamsByUserName|ListWeChatDeptIDByDeptID|ListJiesuanBusinessDeptMember|ListAllInternalEmployees|IsEmployeeBelongToDept|ListApproveAuthEmp|ListApproveAuthDept|ListApproveBackupEmp"}}[2m]) or increase(std_grpc_server_handled_total{{job="be/yid",biz_code="6000",instance="{{0}}"}},grpc_method=~"GetEmployee|ListEmployee|GetDepartment|ListDepartment|GetTeam|ListTeam|ListSupervisor|IsDeptLeader|GetDepartTree|GetEmployeeDepartTree|ListUserNameByEmpID|ListAuthZTeamsByUserName|ListWeChatDeptIDByDeptID|ListJiesuanBusinessDeptMember|ListAllInternalEmployees|IsEmployeeBelongToDept|ListApproveAuthEmp|ListApproveAuthDept|ListApproveBackupEmp"}}[2m]) or vector(0))/sum(increase(std_grpc_server_handled_total{{job="be/yid",grpc_method=~"GetEmployee|ListEmployee|GetDepartment|ListDepartment|GetTeam|ListTeam|ListSupervisor|IsDeptLeader|GetDepartTree|GetEmployeeDepartTree|ListUserNameByEmpID|ListAuthZTeamsByUserName|ListWeChatDeptIDByDeptID|ListJiesuanBusinessDeptMember|ListAllInternalEmployees|IsEmployeeBelongToDept|ListApproveAuthEmp|ListApproveAuthDept|ListApproveBackupEmp"}}[2m])))*100
(1-sum(increase(std_grpc_server_handled_total{{job="be/yid",biz_code="6000",instance="{{0}}",grpc_code=~"Unknown|OK",grpc_method=~"ListFieldValues|ListPermResource|CheckUserOperatePage|ListAuthZResources"}}[2m]) or increase(std_grpc_server_handled_total{{job="be/yid",instance="{{0}}",biz_code="6000",grpc_method=~"ListFieldValues|ListPermResource|CheckUserOperatePage|ListAuthZResources"}}[2m]) or vector(0))/sum(increase(std_grpc_server_handled_total{{job="be/yid",instance="{{0}}",grpc_method=~"ListFieldValues|ListPermResource|CheckUserOperatePage|ListAuthZResources"}}[2m])))*100
sum(rate(std_requests_total{{job="be/yid",code=~"2..",environment="rc", instance="{{0}}"}}[2m]))
sum(rate(std_requests_total{{job="be/yid",code=~"3..",environment="rc", instance="{{0}}"}}[2m]))
sum(rate(std_requests_total{{job="be/yid",code=~"4..",environment="rc", instance="{{0}}"}}[2m]))
sum( increase(std_grpc_server_handled_total{{job="be/yid",environment="rc", instance="{{0}}", grpc_code="OK"}}[2m]))
sum( increase(std_grpc_server_handled_total{{job="be/yid",environment="rc", instance="{{0}}", grpc_code="Unknown"}}[2m]))
sum( increase(std_grpc_server_handled_total{{job="be/yid",environment="rc", instance="{{0}}", grpc_code="Canceled"}}[2m]))
1-sum(increase(std_grpc_server_handled_total{{job="be/yid",biz_code="6000",environment="rc",instance="{{0}}",grpc_code=~"Unknown|OK"}}[2m]) or increase(std_grpc_server_handled_total{{job="be/yid",environment="rc",instance="{{1}}",grpc_code!~"Unknown|OK"}}[2m]))/sum(increase(std_grpc_server_handled_total{{job="be/yid",instance="{{2}}",environment="rc"}}[2m])) or vector(1)
1- ((sum(increase(std_requests_total{{job="be/yid",code="200",environment="rc", instance="{{0}}", bizcode="6000"}}[2m]) or increase(std_requests_total{{job="be/yid",environment="rc", instance="{{0}}",code=~"5.."}}[2m]))  or  vector(0)) /  sum(increase(std_requests_total{{job="be/yid",instance="{{0}}",environment="rc"}}[2m])))
sum(rate(std_requests_total{{job="be/yid", code="200", instance="{{0}}",method="GET",url=~"/api/v1/employee/:empID|/api/v1/employees|/api/v1/dept|/api/v1/depts|/api/v1/team/:teamID|/api/v1/teams|/api/v1/supervisors/:empIDs|/api/v1/dept-tree|/api/v1/emplist"}}[2m]))
sum(rate(std_grpc_server_handled_total{{job="be/yid", grpc_code="OK", instance="{{0}}" ,grpc_method=~"GetEmployee|ListEmployee|GetDepartment|ListDepartment|GetTeam|ListTeam|ListSupervisor|IsDeptLeader|GetDepartTree|GetEmployeeDepartTree|ListUserNameByEmpID|ListAuthZTeamsByUserName|ListWeChatDeptIDByDeptID|ListJiesuanBusinessDeptMember|ListAllInternalEmployees|IsEmployeeBelongToDept|ListApproveAuthEmp|ListApproveAuthDept|ListApproveBackupEmp"}}[2m]))
sum(rate(std_grpc_server_handled_total{{job="be/yid", grpc_code="Unknown",instance="{{0}}", grpc_method=~"GetEmployee|ListEmployee|GetDepartment|ListDepartment|GetTeam|ListTeam|ListSupervisor|IsDeptLeader|GetDepartTree|GetEmployeeDepartTree|ListUserNameByEmpID|ListAuthZTeamsByUserName|ListWeChatDeptIDByDeptID|ListJiesuanBusinessDeptMember|ListAllInternalEmployees|IsEmployeeBelongToDept|ListApproveAuthEmp|ListApproveAuthDept|ListApproveBackupEmp"}}[2m])) 
sum(rate(std_requests_total{{job="be/yid", code="200",instance="{{0}}",method=~"GET|POST",url=~"/api/v2/user/publickey|/api/v2/user/login|/api/v2/user/verify/totp|/api/v2/user/password/change|/api/v2/email/password|/api/v2/password/auth|/api/v2/password/reset"}}[2m]))
sum(rate(std_grpc_server_handled_total{{job="be/yid",instance="{{0}}",grpc_method=~"ListFieldValues|ListPermResource|CheckUserOperatePage|ListAuthZResources", grpc_code="OK"}}[2m]))
